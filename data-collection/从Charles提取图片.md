# ä» Charles æå–å›¾ç‰‡ URL - æœ€ç®€å•æ–¹æ¡ˆ

## ğŸ¯ å‘ç°

ä½ çš„ Charles **å¯ä»¥çœ‹åˆ°è§£å¯†åçš„ API å“åº”**ï¼è¿™æ„å‘³ç€ï¼š

1. âœ… Charles å·²ç»å¸®ä½ è§£å¯†äº†æ•°æ®
2. âœ… å¯ä»¥ç›´æ¥ä» Charles ä¸­æå–å›¾ç‰‡ URL
3. âœ… ä¸éœ€è¦ APP_KEY
4. âœ… ä¸éœ€è¦åç¼–è¯‘

## ğŸ“‹ æ‰§è¡Œæ­¥éª¤

### æ–¹å¼ 1: æ‰‹åŠ¨æ“ä½œï¼ˆé€‚åˆå°‘é‡å­—ç¬¦ï¼‰

1. **åœ¨ App ä¸­æŸ¥è¯¢æ±‰å­—**
   - æ‰“å¼€ CloudBrush App
   - æŸ¥è¯¢ä¸€ä¸ªå­—ï¼ˆå¦‚"æ°´"ï¼‰

2. **åœ¨ Charles ä¸­æ‰¾åˆ°è¯·æ±‚**
   - æ‰¾åˆ° `sfapi.fanglige.com/class/action.php?api=queryDict`
   - æŸ¥çœ‹ Response

3. **å¤åˆ¶ Response å†…å®¹**
   - å³é”® â†’ Copy Response
   - ä¿å­˜ä¸º `response.json`

4. **ä» JSON ä¸­æå–å›¾ç‰‡ URL**
   - æœç´¢ `svg_png` æˆ– `.png`
   - æ‰¾åˆ°æ‰€æœ‰å›¾ç‰‡ URL

### æ–¹å¼ 2: æ‰¹é‡å¯¼å‡ºï¼ˆé€‚åˆå¤§é‡å­—ç¬¦ï¼‰

#### æ­¥éª¤ 1: åœ¨ App ä¸­æµè§ˆæ‰€æœ‰æ±‰å­—

1. æ‰“å¼€ CloudBrush App
2. æµè§ˆå¸¸ç”¨æ±‰å­—ï¼ˆæŒ‰éƒ¨é¦–/ç¬”ç”»ï¼‰
3. æ¯ä¸ªå­—åœç•™ 1-2 ç§’
4. Charles ä¼šè®°å½•æ‰€æœ‰è¯·æ±‚

#### æ­¥éª¤ 2: å¯¼å‡º Charles ä¼šè¯

1. **File â†’ Export Session**
2. æ ¼å¼é€‰æ‹©ï¼š**JSON** æˆ– **HAR**
3. ä¿å­˜ä¸º `charles_session.json`

#### æ­¥éª¤ 3: ä½¿ç”¨è„šæœ¬æå–å›¾ç‰‡ URL

æˆ‘å·²ç»åˆ›å»ºäº†è„šæœ¬ `extract_urls_from_charles.py`ï¼Œä½¿ç”¨æ–¹æ³•ï¼š

```bash
cd /Volumes/thinkplus-1T/my-github/handwriting-backend/data-collection
source ../venv/bin/activate

# ä» Charles å¯¼å‡ºçš„ JSON ä¸­æå–å›¾ç‰‡ URL
python3 extract_urls_from_charles.py charles_session.json
```

#### æ­¥éª¤ 4: æ‰¹é‡ä¸‹è½½å›¾ç‰‡

```bash
# ä½¿ç”¨æå–çš„ URL åˆ—è¡¨ä¸‹è½½å›¾ç‰‡
python3 download_from_urls.py urls.txt
```

---

## ğŸ”§ å¿«é€Ÿæµ‹è¯•

### å•ä¸ªå­—ç¬¦æµ‹è¯•

1. åœ¨ App ä¸­æŸ¥è¯¢ "æ°´"
2. åœ¨ Charles ä¸­æ‰¾åˆ°è¯·æ±‚
3. æŸ¥çœ‹ Responseï¼Œåº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼ï¼š

```json
{
  "status": 0,
  "data": {
    "list": [
      {
        "image": "https://sfapi.fanglige.com/svg_png/26/144y.png",
        "name": "æ°´",
        ...
      }
    ]
  }
}
```

4. ç›´æ¥è®¿é—®å›¾ç‰‡ URLï¼š`https://sfapi.fanglige.com/svg_png/26/144y.png`

---

## ğŸ’¡ æœ€ä½³å®è·µ

### æ¨èæµç¨‹

1. **åœ¨ App ä¸­æµè§ˆ 100 ä¸ªå­—ç¬¦**
   - è®°å½• Charles ä¼šè¯

2. **å¯¼å‡º Charles ä¼šè¯ä¸º JSON**

3. **è¿è¡Œæå–è„šæœ¬**
   ```bash
   python3 extract_urls_from_charles.py charles_session.json
   ```

4. **æ‰¹é‡ä¸‹è½½å›¾ç‰‡**
   ```bash
   python3 download_from_urls.py urls.txt
   ```

5. **é‡å¤æ­¥éª¤ 1-4ï¼Œç›´åˆ°å®Œæˆæ‰€æœ‰å­—ç¬¦**

### ä¼˜ç‚¹

- âœ… ä¸éœ€è¦ç¼–ç¨‹çŸ¥è¯†
- âœ… ä¸éœ€è¦åç¼–è¯‘ App
- âœ… ä¸éœ€è¦æ‰¾ APP_KEY
- âœ… Charles å·²ç»å¸®ä½ è§£å¯†äº†æ•°æ®
- âœ… å¯ä»¥åˆ†æ‰¹è¿›è¡Œï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 

### é¢„è®¡æ—¶é—´

- **3500 ä¸ªå­—ç¬¦**
- **æ¯ä¸ª 2 ç§’** = çº¦ 2 å°æ—¶
- **å¯ä»¥åˆ† 10 æ¬¡å®Œæˆ**ï¼Œæ¯æ¬¡ 20 åˆ†é’Ÿ

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. **åœ¨ App ä¸­æµè§ˆä¸€äº›æ±‰å­—**
2. **å¯¼å‡º Charles ä¼šè¯**
3. **è¿è¡Œæˆ‘åˆ›å»ºçš„æå–è„šæœ¬**

éœ€è¦æˆ‘å¸®ä½ åˆ›å»ºæå–å’Œä¸‹è½½è„šæœ¬å—ï¼Ÿ
