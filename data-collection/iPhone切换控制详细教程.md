# iPhone 切换控制完全自动化教程

## 🎯 目标

设置一次 iPhone 切换控制，然后完全无需人工干预自动浏览 3500 个汉字。

## ⏱️ 设置时间：3-5 分钟

---

## 📱 详细步骤

### 第一步：启用切换控制

1. 打开 **设置**
2. 点击 **辅助功能**
3. 点击 **切换控制**
4. 打开 **切换控制** 开关

**注意**: 启用后会出现一个浮动菜单，这是正常的。

---

### 第二步：添加开关

1. 在切换控制页面，点击 **开关**
2. 点击 **添加新开关...**
3. 选择 **屏幕**
4. 点击 **轻点**
5. 点击 **存储**

现在你已经添加了一个"轻点屏幕"的开关。

---

### 第三步：创建自动化配方（关键步骤）

1. 返回切换控制主页面
2. 点击 **配方**
3. 点击 **创建新配方...**
4. 输入名称：`自动浏览汉字`
5. 点击 **分配开关**，选择 **屏幕 - 轻点**
6. 点击 **动作**

---

### 第四步：录制自动浏览手势

现在你需要录制一个循环手势。在 CloudBrush App 中：

#### 准备工作

1. **先关闭切换控制**（设置 → 辅助功能 → 切换控制 → 关闭）
2. **打开 CloudBrush**
3. **进入汉字浏览页面**（选择任意部首，如"口"）

#### 开始录制

1. **重新启用切换控制**
2. **在配方中选择"自定手势"**
3. **点击"录制新手势"**

#### 录制以下动作序列

**动作 1**: 点击屏幕中间
- 作用：打开汉字详情页
- 位置：屏幕正中间

**动作 2**: 等待 1.5 秒
- 作用：让图片加载

**动作 3**: 点击左上角返回按钮
- 位置：屏幕左上角（约 50, 50）

**动作 4**: 等待 0.5 秒

**动作 5**: 从右向左滑动
- 起点：屏幕右侧 80% 位置
- 终点：屏幕左侧 20% 位置
- 作用：切换到下一个汉字

**动作 6**: 等待 0.5 秒

#### 保存手势

1. 点击 **停止录制**
2. 给手势命名：`浏览下一个字`
3. 点击 **存储**

---

### 第五步：设置循环

1. 在配方中选择刚录制的手势
2. 找到 **重复** 选项
3. 设置为 **9999** 次（或输入 3500）
4. 点击 **存储**

---

### 第六步：启动自动化

#### 准备阶段

1. **确保 Mac 上的 mitmproxy 正在运行** ✅（已运行）
2. **确保 iPhone 代理已配置** ✅（已配置）
3. **打开 CloudBrush App**
4. **进入汉字浏览页面**

#### 启动配方

1. **三击侧边按钮**（或 Home 键）激活切换控制
2. **点击浮动菜单**
3. **选择"配方"**
4. **选择"自动浏览汉字"**
5. **点击"开始"**

#### 运行状态

- ✅ iPhone 会自动重复执行手势
- ✅ 每个汉字约 2-3 秒
- ✅ 完全无需人工干预
- ✅ Mac 会自动捕获和下载图片

---

## 🛑 如何停止

如果需要停止自动化：

1. **三击侧边按钮**（或 Home 键）
2. **点击菜单中的"停止"**
3. **或关闭切换控制**

---

## 📊 监控进度

在 Mac 上，自动下载监控会显示：

```
[21:44:51] 📈 URL 数量: 15 (+3)
[21:45:01] 📈 URL 数量: 18 (+3)
[21:45:11] 📈 URL 数量: 21 (+3)
...
```

每达到 50 个 URL 会自动下载一次。

---

## ⏱️ 预计完成时间

- **每个汉字**: 2-3 秒
- **3500 个汉字**: 约 2-3 小时
- **完全自动化**: ✅

---

## 🔧 常见问题

### Q1: 切换控制菜单挡住了屏幕怎么办？

A: 可以拖动菜单到屏幕边缘，它会自动缩小。

### Q2: 手势录制不准确怎么办？

A:
1. 删除当前手势
2. 重新录制
3. 确保在正确的页面录制

### Q3: 循环中途停止了怎么办？

A:
1. 检查 iPhone 是否锁屏（设置自动锁定为"永不"）
2. 检查切换控制是否被意外关闭
3. 重新启动配方

### Q4: 如何设置永不锁屏？

A:
1. 设置 → 显示与亮度
2. 自动锁定 → 永不
3. 或者在充电时使用

---

## ✅ 检查清单

完成设置后，确认：

- [ ] 切换控制已启用
- [ ] 配方已创建并设置重复 9999 次
- [ ] CloudBrush 在汉字浏览页面
- [ ] Mac 的 mitmproxy 正在运行
- [ ] Mac 的自动下载监控正在运行
- [ ] iPhone 设置为永不锁屏（或连接充电器）
- [ ] 启动配方

---

## 🎉 完成后

2-3 小时后，你会得到：

- ✅ 3500 个汉字的图片 URL
- ✅ 自动下载的所有图片
- ✅ 保存在 `collected_characters/` 目录

完全自动化，无需任何人工干预！
